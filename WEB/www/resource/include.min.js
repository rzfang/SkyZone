"use strict";function Trim(Str){return Str.replace(/^\s+|\s+$/g,"")}function StringLength(Str){if("string"!=typeof Str)return 0;for(var C=0,SL=Str.length,i=0;SL>i;i++){var Chr=Str.charCodeAt(i);(32>Chr||Chr>126)&&C++}return Str.length+C}function SubStrFx(Str,Ofst,Lmt){"string"!=typeof Str&&(Str=Str.toString()),("number"!=typeof Ofst||0>Ofst)&&(Ofst=0),Str=Str.substr(Ofst),("number"!=typeof Lmt||1>Lmt)&&(Lmt=Str.length);for(var Rst="",C=0,i=0;Lmt>i&&Lmt>C;i++){Rst+=Str.charAt(i);var Chr=Str.charCodeAt(i);(32>Chr||Chr>126)&&++C,++C}return Rst}function CSSAdd(CSSStr,ID){if("string"!=typeof CSSStr||0===CSSStr.length)return-1;if("string"==typeof ID&&ID.length>0){if(document.getElementById(ID))return 1}else ID="";var Stl=document.createElement("style"),TxtNd=document.createTextNode(CSSStr);return ID.length>0&&(Stl.id=ID),Stl.type="text/css",Stl.styleSheet?Stl.styleSheet.cssText=TxtNd.nodeValue:Stl.appendChild(TxtNd),document.getElementsByTagName("head")[0].appendChild(Stl),0}function ObjectCombine(BsObj,ExtObj,Md){if("object"!=typeof BsObj||"object"!=typeof ExtObj)return null;"number"!=typeof Md&&(Md=0);var RstObj={};for(var i in BsObj)RstObj[i]=BsObj[i];if(0===Md)for(var i in ExtObj)RstObj[i]=ExtObj[i];else for(var i in ExtObj)"undefined"!=typeof RstObj[i]&&(RstObj[i]=ExtObj[i]);return RstObj}function CharPad(Str,Lth,Chr,Sd){if("string"!=typeof Str&&(Str=Str.toString()),"number"!=typeof Lth||2>Lth||Str.length>=Lth)return Str;if(("string"!=typeof Chr||0===Chr.length)&&(Chr="0"),"string"!=typeof Sd)Sd="l";else if(Sd=Sd.toLowerCase(),"l"!==Sd&&"r"!==Sd)return Str;var PN=Lth-Str.length,PS="";for(PS="";PS.length<PN;PS+=Chr);return"l"===Sd?Str=PS+Str:Str+=PS,Str}function Second2Datetime(Scd,Fmt){var Dt=new Date(1e3*Scd),DtStr="",TZOM=Dt.getTimezoneOffset(),TZOH=TZOM/60;switch(Scd=parseFloat(Scd),"number"!=typeof Fmt&&(Fmt=0),Fmt=parseInt(Fmt,10),TZOH=(TZOH>0?"-":"+")+CharPad(Math.abs(TZOH),2),Fmt){case 1:Dt.setMinutes(Dt.getMinutes()-TZOM),DtStr=Dt.toJSON().substr(0,19).replace("T"," ");break;case 2:DtStr=""+Dt.getFullYear()+CharPad(Dt.getMonth()+1,2)+CharPad(Dt.getDate(),2)+CharPad(Dt.getHours(),2)+CharPad(Dt.getMinutes(),2)+CharPad(Dt.getSeconds(),2);break;case 0:default:DtStr=Dt.getFullYear()+"-"+CharPad(Dt.getMonth()+1,2)+"-"+CharPad(Dt.getDate(),2)+" "+CharPad(Dt.getHours(),2)+":"+CharPad(Dt.getMinutes(),2)+":"+CharPad(Dt.getSeconds(),2)+"."+CharPad(Dt.getMilliseconds(),3)+TZOH}return DtStr}function FileSizeNormalize(Byte){if("number"!=typeof Byte&&(Byte=parseInt(Byte,10)),isNaN(Byte)||0>Byte)return"???";for(var UntA=["KB","MB","GB"],i=UntA.length;i>0;i--){var Cmp=Math.pow(2,10*i);if(Byte>Cmp)return Byte=Math.round(Byte/Cmp*100)/100,Byte.toString()+" "+UntA[i-1]}return Byte+" Bytes"}function IsTimeStamp(TmStr){return"string"!=typeof TmStr||0===TmStr.length?!1:RECheck(/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}$/,TmStr)}function IsEMail(Str){return RECheck(/^[\w.]+@.{2,16}\.[0-9a-z]{2,3}$/,Str)}function RECheck(Ptm,Str){if("function"!=typeof Ptm&&"object"!=typeof Ptm&&"string"!=typeof Ptm||"string"!=typeof Str)return!1;var RE=new RegExp(Ptm);return RE.test(Str)}function CookieSet(Nm,V,Exp,Pth,Dmn){if("string"!=typeof Nm||"undefined"==typeof V||null===V||"number"!=typeof Exp||null===Exp)return-1;var Dt=new Date;Dt.setTime(Dt.getTime()+1e3*Exp);var Str=Nm+"="+encodeURIComponent(V)+";expires="+Dt.toUTCString()+";";return"string"==typeof Pth&&Pth.length>0&&(Str+="path="+Pth+";"),"string"==typeof Dmn&&Dmn.length>5&&(Str+="domain="+Dmn+";"),document.cookie=Str,0}function CookieParam(){var CSA=document.cookie.split(";"),CO={};for(var i in CSA){var T=CSA[i].replace(/^\s+|\s+$/g,"").split("=");CO[T[0]]=decodeURIComponent(T[1])}return CO}function PageTurn(URL){return"string"!=typeof URL?0:void(URL.length>0?window.location=URL:window.location.reload(!0))}function WindowViewSize(){var Sz=[0,0];return document.documentElement?Sz=[document.documentElement.clientWidth,document.documentElement.clientHeight]:window.innerWidth&&window.innerHeight&&(Sz=[window.innerWidth,window.innerHeight]),Sz}function PageNameGet(){var PthA=window.location.pathname.split("/");return PthA[PthA.length-1]}function EmbedDeny(){top!=self&&(window.location.href="about:blank")}function HTMLSpecialCharsEnDeCode(Txt,Flg){return"string"!=typeof Txt||"boolean"!=typeof Flg?"":Flg?Txt.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):Txt.replace(/&amp;|&#0?38;/g,"&").replace(/&lt;|&#0?60;/g,"<").replace(/&gt;|&#0?62;/g,">").replace(/&quot;|&#0?34;/g,'"').replace(/&#0?39;/g,"'")}function TextToHTML(Txt){return"string"!=typeof Txt||0===Txt.length?Txt:Txt=Txt.replace(/(https?:\/\/\S+)/g,'<a href="$1" target="_blank">$1</a>')}function RandomRange(Min,Max,Dcm){if("number"!=typeof Min||"number"!=typeof Max)return 0;if("number"!=typeof Dcm&&(Dcm=0),Min>Max||Min>Max){var T=Min;Min=Max,Max=T}var Dst=Max-Min,Nbr=Math.random()*Dst+Min;if(0===Dcm)Nbr=Math.floor(Nbr);else if(Dcm>0){var Pow=Math.pow(10,Dcm);Nbr=Math.floor(Nbr*Pow)/Pow}return Nbr}function URLParameters(){var PrmStr=window.location.search,URLPrms={};if(PrmStr.length>0)for(var TmpA0=PrmStr.substr(1).split("&"),i=0;i<TmpA0.length;i++){var TmpA1=TmpA0[i].split("=");URLPrms[TmpA1[0]]=TmpA1.length<2?!0:TmpA1[1]}return URLPrms}function TabBox(BxOS,TbCSSS,PrmIdx,TbSwF,HshKy){function ClickToTabSwitch(){TabSwitch($(this))}function HashTrigger(){var Hsh=window.location.hash.replace(/^#/,"");if(0===Hsh.length)return TabSwitch(TbBx.children(":first")),0;var RE=RegExp(HshKy+"\\d+,?","g"),MchA=Hsh.match(RE),Idx=0;null!==MchA&&(Idx=parseInt(MchA[MchA.length-1].match(/\d+/),10)),TabSwitch(TbBx.children(":eq("+Idx.toString()+")"))}function TabSwitch(JO){var This=JO,Idx=This.index(),Rcd=Bx.data("IdxRcd");if(Rcd[1]===Idx)return 0;var NO=This,OO=NO.siblings(".PckTb").removeClass("PckTb");NO.addClass("PckTb"),Rcd[0]=Rcd[1],Rcd[1]=Idx,Bx.data("IdxRcd",Rcd),CtxAJO.eq(Rcd[1]).show(),Rcd[0]>=0&&CtxAJO.eq(Rcd[0]).hide(),TbSwF(OO,NO)}if("undefined"==typeof BxOS||"string"!=typeof TbCSSS)return alert("Tab Bx initialize failed."),null;("number"!=typeof PrmIdx||0>PrmIdx)&&(PrmIdx=0),"function"!=typeof TbSwF&&(TbSwF=function(){});var Bx=$(BxOS).data("IdxRcd",[-1,-1]),CtxAJO=$(TbCSSS),TbTlt=$("<li/>"),CSSStr="",TbBx=Bx.prepend("<ul/>").children("ul:first");if(CSSStr=BxOS+" > ul { margin: 0px; padding: 0px; }\n"+BxOS+" > ul > li { display: inline-block; position: relative; border-style: solid; vertical-align: bottom; cursor: pointer; }\n"+TbCSSS+" { display: none; min-height: 100px; border-style: solid; }",CSSAdd(CSSStr),"string"!=typeof HshKy||0===HshKy.length)CtxAJO.each(function(Idx){{var This=$(this),TbNmA=[This.data("tabName"),This.attr("name")];TbTlt.clone().text(TbNmA[0]?TbNmA[0]:TbNmA[1]?TbNmA[1]:Idx.toString()).appendTo(TbBx)}}),TbBx.on("click",">  li",ClickToTabSwitch);else{var Hsh=window.location.hash.replace(/^#/,""),RE=new RegExp(HshKy+"\\d+,?","g"),MchA=Hsh.match(RE);null!==MchA&&(MchA=MchA[MchA.length-1].match(/\d+/),PrmIdx=parseInt(MchA[0],10)),CtxAJO.each(function(Idx){{var This=$(this),TbNmA=[This.data("tabName"),This.attr("name")];TbTlt.clone().text(TbNmA).attr("name",HshKy+Idx.toString()).appendTo(TbBx)}}),TbBx.on("click","> span",HashToTabSwitch),$(window).on("hashchange",HashTrigger)}return TabSwitch(TbBx.children("li:eq("+PrmIdx+")")),Bx}function Button0(CSSS){function Initialize(Obj){"boolean"!=typeof Obj.LckFlg&&($(Obj).attr("autocomplete","off"),Obj.LckFlg=!1,Obj.Lock=Lock,Obj.Unlock=Unlock)}function Lock(){this.LckFlg||(this.LckFlg=!0,$(this).addClass("Lock").prop("disabled",!0))}function Unlock(){this.LckFlg&&(this.LckFlg=!1,$(this).removeClass("Lock").prop("disabled",!1))}return"string"!=typeof CSSS?(alert("Set 'Button0' object failed. Please check out passing values."),null):(CSSS=Trim(CSSS),$("body").on("mouseenter",CSSS,function(Evt){Initialize(Evt.currentTarget)}).on("focus",CSSS,function(Evt){Initialize(Evt.currentTarget)}).find(CSSS).each(function(){Initialize(this)}),0)}function ItemList(BxOS,URL,Lmt,Data,OneItmF,IdxCls,AftItmsF){function OnePageList(Pg){var Tp=typeof Pg;if("undefined"===Tp)Pg=NwPg;else if("number"!==Tp)return 0;var PstData=ObjectCombine(Data,{Lmt:Lmt,Ofst:Pg*Lmt});$.ajax({type:"POST",dataType:"json",timeout:2e4,url:URL,data:PstData,success:function(Rtn){if(0!=Rtn.Index)return alert(Rtn.Index+", "+Rtn.Message),0;NwPg=Pg,Bx.empty();for(var i in Rtn.Extend)Bx.append(OneItmF(Rtn.Extend[i],i));("object"==typeof IdxCls||IdxCls.length>1)&&PageIndexBuild(),"function"==typeof AftItmsF&&AftItmsF("undefined"==typeof Rtn.Extend?0:Rtn.Extend.length,Rtn.Extend)}})}function TotalCount(AftF){var PstData=ObjectCombine(Data,{Cnt:1,Lmt:0,Ofst:0});$.ajax({type:"POST",dataType:"json",timeout:2e4,url:URL,data:PstData,success:function(Rtn){return 0!=Rtn.Index?(alert(Rtn.Index+", "+Rtn.Message),0):(TtlCnt=isNaN(Rtn.Extend)?Rtn.Extend.length:Rtn.Extend,MxPg=Math.ceil(TtlCnt/Lmt)-1,0==Rtn.Extend&&"object"==typeof IdxCls&&IdxCls.length>1&&PageIndexBuild(),void("function"==typeof AftF&&AftF()))}})}function LimitSet(NwLmt){return"number"!=typeof NwLmt||1>NwLmt?Limit:(NwLmt>99&&(NwLmt=99),Lmt=NwLmt)}function PageIndexBuild(){var IdxLst=$("<div/>").appendTo(Bx),TC=["",""];if("object"!=typeof IdxCls||0===IdxCls.length)return 0;IdxLst.addClass("ItmLstIdxBx").css({textAlign:"center",marginTop:10}),"string"==typeof IdxCls[0]&&IdxCls[0].length>0&&(TC[0]=IdxCls[0]),"string"==typeof IdxCls[1]&&IdxCls[1].length>0&&(TC[1]=IdxCls[1]),$("<span/>").addClass(NwPg>0?TC[0]:TC[1]).attr({name:NwPg>0?0:-1,title:1}).text("╞").appendTo(IdxLst),$("<span/>").addClass(0==NwPg?TC[1]:TC[0]).attr({name:NwPg-1}).text("◁").appendTo(IdxLst);var Nw=$("<span/>").addClass(TC[1]).attr("name",NwPg).text(NwPg+1).appendTo(IdxLst);$("<span/>").addClass(NwPg>=MxPg?TC[1]:TC[0]).attr({name:NwPg+1}).text("▷").appendTo(IdxLst),$("<span/>").addClass(MxPg>NwPg?TC[0]:TC[1]).attr({name:MxPg>NwPg?MxPg:MxPg+1,title:MxPg+1}).text("╡").appendTo(IdxLst);var PrvBgn=NwPg-PgTgRng,PrvEnd=NwPg,NxtBgn=NwPg+PgTgRng,NxtEnd=NwPg;0>PrvBgn&&(NxtBgn-=PrvBgn,PrvBgn=0,NxtBgn>MxPg&&(NxtBgn=MxPg)),NxtBgn>MxPg&&(PrvBgn-=NxtBgn-MxPg,NxtBgn=MxPg,0>PrvBgn&&(PrvBgn=0));for(var i=PrvBgn;PrvEnd>i;i++)$("<span/>").addClass(TC[0]).attr({name:i}).text(i+1).insertBefore(Nw);for(var i=NxtBgn;i>NxtEnd;i--)$("<span/>").addClass(TC[0]).attr({name:i}).text(i+1).insertAfter(Nw)}if("undefined"==typeof BxOS||"string"!=typeof URL||isNaN(Lmt)||"object"!=typeof Data||"function"!=typeof OneItmF)return alert("Create a 'ItemList' failed. Please check out passing values."),null;Lmt=parseInt(Lmt,10),1>Lmt&&(Lmt=0);var Bx=$(BxOS),BxDOM=Bx.get(0),NwPg=0,PgTgRng=2,TtlCnt=0,MxPg=0;return Bx.data("Data",Data),BxDOM.PageGet=OnePageList,BxDOM.Recount=TotalCount,BxDOM.LimitSet=LimitSet,BxDOM.NowPage=function(){return NwPg},TotalCount(function(){OnePageList(NwPg)}),"object"==typeof IdxCls&&IdxCls.length>0&&Bx.off("click","div.ItmLstIdxBx:last-child > span").on("click","div.ItmLstIdxBx:last-child > span",function(){var This=$(this),Idx=parseInt(This.attr("name"),10);if(0>Idx||Idx>MxPg||Idx===NwPg)return 0;"string"==typeof IdxCls[1]&&IdxCls[1].length>0&&This.siblings().addBack().removeClass().addClass(IdxCls[1]),OnePageList(Idx)}),Bx}function Frame(PrtOS,W,H,CtxLdF,CSSCls,Ttl,SltBldB){function ToFront(){function SortByZIndex(OA,OB){return OA.ZIdx===OB.ZIdx?0:OA.ZIdx>OB.ZIdx?1:-1}var MxZIdx=-1,FrmA=[];if(Frm.siblings("."+CSSCls).each(function(){var This=$(this),ZIdx=parseInt(This.css("zIndex"),10);MxZIdx=Math.max(MxZIdx,ZIdx),FrmA.push({JO:This,ZIdx:ZIdx})}),MxZIdx++,parseInt(Frm.css("zIndex"),10)==MxZIdx)return 0;Frm.css("zIndex",MxZIdx),FrmA.push({JO:Frm,ZIdx:MxZIdx});var C=FrmA.length;if(C>1){FrmA.sort(SortByZIndex);{FrmA[0].ZIdx}FrmA[0].ZIdx>0&&(FrmA[0].JO.css("zIndex",0),FrmA[0].ZIdx=0);for(var i=1;C>i;i++){var GlIdx=FrmA[i-1].ZIdx+1;FrmA[i].ZIdx>GlIdx&&(FrmA[i].JO.css("zIndex",GlIdx),FrmA[i].ZIdx=GlIdx)}}return 1}function FrameOpen(Frm,SltBldB){if(Frm.hide(),ToFront(),SltBldB)return Frm.children("div:eq(1)").append(CtxLdF),0;var Rdm=Math.round(3*Math.random());switch(Rdm){case 1:Frm.slideDown("normal",function(){Frm.children("div:eq(1)").append(CtxLdF)});break;case 2:Frm.fadeIn("normal",function(){Frm.children("div:eq(1)").append(CtxLdF)});break;case 0:default:Frm.show("normal",function(){Frm.children("div:eq(1)").append(CtxLdF)})}}function FrameClose(){var Rdm=Math.round(3*Math.random());switch(Rdm){case 1:Frm.slideUp("normal",function(){$(this).remove()});break;case 2:Frm.fadeOut("normal",function(){$(this).remove()});break;case 0:default:Frm.hide("normal",function(){$(this).remove()})}}function FrameMoveStart(Evt){function FrameMove(Evt){Frm.css({left:Evt.pageX-TgtRtg.X,top:Evt.pageY-TgtRtg.Y})}var TL=Frm.offset();return TgtRtg.X=Evt.pageX-TL.left,TgtRtg.Y=Evt.pageY-TL.top,ToFront(),Ctnr.css("cursor","move").on("mousemove",FrameMove),Frm.css("border","1px solid rgba(255, 0, 0, 0.7)").data("IsMv",!0),$(Evt.currentTarget).css("cursor","move").off("click").on("click",FrameMoveStop),0}function FrameMoveStop(Evt){Ctnr.css({cursor:""}).off("mousemove"),Frm.css("border","").data("IsMv",!1),$(Evt.currentTarget).css("cursor","pointer").off("click").on("click",FrameMoveStart)}function FrameResizeStart(Evt){function FrameResize(Evt){var X=Evt.pageX-TgtRtg.X,Y=Evt.pageY-TgtRtg.Y,W=TgtRtg.W+X,H=TgtRtg.H-Y;Y+=TL.top,200>W&&(W=200),200>H?H=200:Frm.css("top",Y),Frm.children("div:eq(1)").css({width:W,height:H})}var TL=Frm.offset(),SzTgt=Frm.children("div:eq(1)");return TgtRtg.X=Evt.pageX,TgtRtg.Y=Evt.pageY,TgtRtg.W=SzTgt.width(),TgtRtg.H=SzTgt.height(),ToFront(),Ctnr.css("cursor","ne-resize").on("mousemove",FrameResize),Frm.css("border","1px solid rgba(255, 0, 0, 0.7)").data("IsRsz",!0),$(Evt.currentTarget).css("cursor","ne-resize").off("click",FrameResizeStart).on("click",FrameResizeStop),0}function FrameResizeStop(Evt){Ctnr.css({cursor:""}).off("mousemove"),Frm.css("border","").data("IsRsz",!1),$(Evt.currentTarget).css("cursor","pointer").off("click",FrameResizeStop).on("click",FrameResizeStart)}function FrameMaxSize(Evt){var Tgt=Frm.children("div:eq(1)"),Sz=[Tgt.width(),Tgt.height()],Lct=Frm.offset(),W=Ctnr.width()-(Frm.outerWidth()-Sz[0]),H=$(document).height()-(Frm.outerHeight()-Sz[1]);ToFront(),$(Evt.currentTarget).data("LstSt",{X:Lct.left,Y:Lct.top,W:Sz[0],H:Sz[1]}).off("click",FrameMaxSize).on("click",FrameLastSize).prevAll("span").hide(),Frm.css({left:0,top:0}),Tgt.css({width:W,height:H})}function FrameLastSize(Evt){var Tgt=Frm.children("div:eq(1)"),LstSt=$(Evt.currentTarget).off("click",FrameLastSize).on("click",FrameMaxSize).prevAll("span").show().end().data("LstSt");Frm.css({left:LstSt.X,top:LstSt.Y}),Tgt.css({width:LstSt.W,height:LstSt.H})}function ActionExtend(Cmd,ActnF){function SizeChange(){setTimeout(function(){Frm.data("IsRsz")||ActnF(This)},0)}if("string"!=typeof Cmd||0===Cmd.length||"function"!=typeof ActnF)return null;var This=this,TtlBtn=TtlBx.find("> span:last > span");switch(Cmd){case"CloseButtonClick":TtlBtn.last().off("click").on("click",function(){ActnF(This)});break;case"SizeChange":TtlBtn.eq(1).on("click",SizeChange).end().eq(2).on("click",SizeChange)}return this}var FIBCID="FrmIcnBtn";if(0===$("#"+FIBCID).length){var CSSS="."+CSSCls+" > div:first-child {  padding: 1px 5px; border-radius: 5px 5px 0px 0px; font-size: 18px; border-bottom-width: 1px;  background-image:         linear-gradient(to bottom, rgba(200, 240, 255, 1), rgba(240, 248, 255, 0.9));  background-image: -webkit-linear-gradient(top, rgba(200, 240, 255, 1), rgba(240, 248, 255, 0.9)); }\n."+CSSCls+" { border-width: 1px; border-radius: 5px; box-shadow: -1px 1px 2px; }\n."+CSSCls+" > div:nth-child(2) { padding: 5px; background-color: rgba(240, 240, 240, 0.9); }\n."+CSSCls+" > div:nth-child(3) { padding: 1px 3px; border-top-width: 1px; border-radius: 0px 0px 5px 5px; background-color: rgba(248, 248, 255, 0.9); }\n";CSSAdd(CSSS,FIBCID)}if("undefined"==typeof PrtOS||"number"!=typeof W||"number"!=typeof H||"function"!=typeof CtxLdF||"string"!=typeof CSSCls||0===CSSCls.length)return alert("Create a 'Frame' object failed. Please check out passing values."),null;"boolean"!=typeof SltBldB&&(SltBldB=!1);var Ctnr=$(PrtOS),TgtRtg={X:0,Y:0,W:0,H:0},Frm=$('<span><div class="Hdr"><span/><span><span/><span/><span/><span/></span></div><div class="Ctn"/></span>').data({IsMv:!1,IsRsz:!1}).on("click","> *",function(){ToFront()}).appendTo(Ctnr),FrmDOM=Frm.get(0),TtlBx=Frm.addClass(CSSCls).css({display:"inline-block",position:"absolute"}).children("div:eq(1)").css({position:"relative",width:W,height:H,overflow:"auto",whiteSpace:"nowrap"}).end().children("div:first");return TtlBx.css({position:"relative",minHeight:"28px"}).children("span:first").css({display:"inline-block"}).text("string"==typeof Ttl?Ttl:"").end().children("span:last").css({position:"absolute",right:3,top:1,textAlign:"right"}).children("span").first().addClass("FIB FIB_Move").attr("title","移動").on("click",FrameMoveStart).end().eq(1).addClass("FIB FIB_Resize").attr("title","調整大小").on("click",FrameResizeStart).end().eq(2).addClass("FIB FIB_Max").attr("title","最大/復原").on("click",FrameMaxSize).end().last().addClass("FIB FIB_Close").attr("title","關閉").click(FrameClose),FrmDOM.ActionExtend=ActionExtend,FrmDOM.ToFront=ToFront,FrameOpen(Frm,SltBldB),Frm}function Animation(DO,ItmDrwFA,BgDrwF){function Start(){this.RunB=!0,this.FrameDraw()}function Stop(){this.RunB=!1}function FrameDraw(){if(this.RunB){this.BgDrwF(this.Ctx,this.ScnSz);for(var i=0;i<this.ItmDrwFA.length;i++)this.ItmDrwFA[i](this.Ctx,this.ScnSz);setTimeout(function(){This.FrameDraw()},50)}}function ItemDrawAdd(ItmDrwF){return"function"!=typeof ItmDrwF?-1:(this.ItmDrwFA.push(ItmDrwF),0)}function ItemDrawDel(Idx){return"number"!=typeof Idx||Idx>=this.ItmDrwFA.length?-1:void this.ItmDrwFA.splice(Idx,1)}if("object"!=typeof DO||null===DO||"object"!=typeof ItmDrwFA||"number"!=typeof ItmDrwFA.length)return void console.log("Animation is not going to run.");var This=this;this.DOM=null,this.Ctx=DO.getContext("2d"),this.ScnSz={W:DO.width,H:DO.height},this.RunB=!1,this.BgDrwF=function(){},this.ItmDrwFA=[],this.Start=Start,this.Stop=Stop,this.FrameDraw=FrameDraw,this.ItemDrawAdd=ItemDrawAdd,this.ItemDrawDel=ItemDrawDel;for(var i=0;i<ItmDrwFA.length;i++)"function"==typeof ItmDrwFA[i]&&this.ItmDrwFA.push(ItmDrwFA[i]);this.BgDrwF="function"==typeof BgDrwF?BgDrwF:function(){this.Ctx.fillStyle="rgba(255, 255, 255, 1)",this.Ctx.fillRect(0,0,this.ScnSz.W,this.ScnSz.H)}}